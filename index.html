<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>DARKLENS – Explorador de "Personalidad Oscura"</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

  <section class="hero">
    <img src="assets/rostro futurista.jfif" alt="Imagen futurista" class="hero-img">
  </section>

  <header class="bienvenida">
    <h1>DARKLENS</h1>
    <h2>Explorador de rasgos de "personalidad oscura" mediante test psicométrico y análisis de microexpresiones</h2>

    <section class="explicacion">
      <h3>¿En qué consiste esta experiencia?</h3>
      <p>
        DARKLENS es una herramienta experimental diseñada para explorar rasgos de "personalidad oscura" mediante la integración de dos enfoques complementarios: la evaluación psicométrica y el análisis automatizado de microexpresiones faciales. Esta experiencia forma parte de una investigación académica en el marco de la <strong>Licenciatura en Ciencia de Datos</strong> de la <strong>Universidad del Gran Rosario (UGR)</strong>.
      </p>
      <p>La participación es voluntaria, anónima y no implica ningún tipo de diagnóstico clínico. El objetivo es ofrecer una interpretación combinada de tu perfil psicométrico y emocional, basada en modelos de inteligencia artificial entrenados para este fin.</p>
      <h4>La experiencia consta de tres pasos:</h4>
      <ol>
        <li><strong>Test SD3:</strong> Completás un cuestionario validado de 27 ítems que evalúa maquiavelismo, narcisismo y psicopatía subclínica.</li>
        <li><strong>Análisis de microexpresiones:</strong> Subís una imagen facial que será procesada por un modelo entrenado para detectar emociones sutiles.</li>
        <li><strong>Interpretación combinada:</strong> Recibís un resumen integrador de tus resultados psicométricos y emocionales.</li>
      </ol>
      <p>Esta herramienta no reemplaza evaluaciones psicológicas profesionales. Los resultados deben interpretarse como una aproximación exploratoria dentro de un contexto académico.</p>
    </section>

    <form id="datos-basicos">
      <label>Nombre:</label><input type="text" name="nombre" required><br>
      <label>Edad:</label><input type="number" name="edad" required><br>
      <label>Género:</label>
      <select name="genero" required>
        <option value="">Seleccionar</option>
        <option value="Femenino">Femenino</option>
        <option value="Masculino">Masculino</option>
        <option value="No binario">No binario</option>
        <option value="Prefiero no decirlo">Prefiero no decirlo</option>
      </select><br>
      <label>País:</label><input type="text" name="pais" required><br>
      <label><input type="checkbox" name="consentimiento" required> Acepto participar voluntariamente</label><br>
      <button type="submit">Entiendo y deseo continuar</button>
    </form>
  </header>

  <main id="contenido" style="display:none;">
    <section id="test-sd3">
      <h3>Paso 1: Test SD3</h3>
      <form id="form-sd3">
        <p>Indicá tu nivel de acuerdo (1 = Fuertemente en desacuerdo, 5 = Fuertemente de acuerdo):</p>
        <ol>
          <ol>
     <li>No es sabio hablar de tus secretos
      <div class="opciones">
        <label><input type="radio" name="item1" value="1" required> 1</label>
        <label><input type="radio" name="item1" value="2"> 2</label>
        <label><input type="radio" name="item1" value="3"> 3</label>
        <label><input type="radio" name="item1" value="4"> 4</label>
        <label><input type="radio" name="item1" value="5"> 5</label>
      </div>
    </li>
    <li>La gente me ve como un líder natural
      <div class="opciones">
        <label><input type="radio" name="item2" value="1" required> 1</label>
        <label><input type="radio" name="item2" value="2"> 2</label>
        <label><input type="radio" name="item2" value="3"> 3</label>
        <label><input type="radio" name="item2" value="4"> 4</label>
        <label><input type="radio" name="item2" value="5"> 5</label>
      </div>
    </li>
    <li>Me gusta vengarme de las autoridades
      <div class="opciones">
        <label><input type="radio" name="item3" value="1" required> 1</label>
        <label><input type="radio" name="item3" value="2"> 2</label>
        <label><input type="radio" name="item3" value="3"> 3</label>
        <label><input type="radio" name="item3" value="4"> 4</label>
        <label><input type="radio" name="item3" value="5"> 5</label>
      </div>
    </li>
    <li>Me gusta manipular inteligentemente para lograr mis objetivos
      <div class="opciones">
        <label><input type="radio" name="item4" value="1" required> 1</label>
        <label><input type="radio" name="item4" value="2"> 2</label>
        <label><input type="radio" name="item4" value="3"> 3</label>
        <label><input type="radio" name="item4" value="4"> 4</label>
        <label><input type="radio" name="item4" value="5"> 5</label>
      </div>
    </li>
    <li>Odio ser el centro de atención
      <div class="opciones">
        <label><input type="radio" name="item5" value="1" required> 1</label>
        <label><input type="radio" name="item5" value="2"> 2</label>
        <label><input type="radio" name="item5" value="3"> 3</label>
        <label><input type="radio" name="item5" value="4"> 4</label>
        <label><input type="radio" name="item5" value="5"> 5</label>
      </div>
    </li>
    <li>Evito situaciones peligrosas
      <div class="opciones">
        <label><input type="radio" name="item6" value="1" required> 1</label>
        <label><input type="radio" name="item6" value="2"> 2</label>
        <label><input type="radio" name="item6" value="3"> 3</label>
        <label><input type="radio" name="item6" value="4"> 4</label>
        <label><input type="radio" name="item6" value="5"> 5</label>
      </div>
    </li>
    <li>Uno debería hacer lo que sea necesario para lograr sus objetivos
      <div class="opciones">
        <label><input type="radio" name="item7" value="1" required> 1</label>
        <label><input type="radio" name="item7" value="2"> 2</label>
        <label><input type="radio" name="item7" value="3"> 3</label>
        <label><input type="radio" name="item7" value="4"> 4</label>
        <label><input type="radio" name="item7" value="5"> 5</label>
      </div>
    </li>
    <li>Muchas actividades grupales tienden a ser aburridas sin mí
      <div class="opciones">
        <label><input type="radio" name="item8" value="1" required> 1</label>
        <label><input type="radio" name="item8" value="2"> 2</label>
        <label><input type="radio" name="item8" value="3"> 3</label>
        <label><input type="radio" name="item8" value="4"> 4</label>
        <label><input type="radio" name="item8" value="5"> 5</label>
      </div>
    </li>
    <li>Una revancha debe ser rápida y desagradable
      <div class="opciones">
        <label><input type="radio" name="item9" value="1" required> 1</label>
        <label><input type="radio" name="item9" value="2"> 2</label>
        <label><input type="radio" name="item9" value="3"> 3</label>
        <label><input type="radio" name="item9" value="4"> 4</label>
        <label><input type="radio" name="item9" value="5"> 5</label>
      </div>
    </li>
    <li>Hay que evitar el conflicto directo con los demás porque ellos pueden ser útiles en el futuro
      <div class="opciones">
        <label><input type="radio" name="item10" value="1" required> 1</label>
        <label><input type="radio" name="item10" value="2"> 2</label>
        <label><input type="radio" name="item10" value="3"> 3</label>
        <label><input type="radio" name="item10" value="4"> 4</label>
        <label><input type="radio" name="item10" value="5"> 5</label>
      </div>
    </li>
    <li>Sé que soy alguien especial porque todos me lo dicen continuamente
      <div class="opciones">
        <label><input type="radio" name="item11" value="1" required> 1</label>
        <label><input type="radio" name="item11" value="2"> 2</label>
        <label><input type="radio" name="item11" value="3"> 3</label>
        <label><input type="radio" name="item11" value="4"> 4</label>
        <label><input type="radio" name="item11" value="5"> 5</label>
      </div>
    </li>
    <li>La gente suele decir que estoy fuera de control
      <div class="opciones">
        <label><input type="radio" name="item12" value="1" required> 1</label>
        <label><input type="radio" name="item12" value="2"> 2</label>
        <label><input type="radio" name="item12" value="3"> 3</label>
        <label><input type="radio" name="item12" value="4"> 4</label>
        <label><input type="radio" name="item12" value="5"> 5</label>
      </div>
    </li>
    <li>Es acertado mantenerse siempre cierta información que se pueda usar contra la gente
      <div class="opciones">
        <label><input type="radio" name="item13" value="1" required> 1</label>
        <label><input type="radio" name="item13" value="2"> 2</label>
        <label><input type="radio" name="item13" value="3"> 3</label>
        <label><input type="radio" name="item13" value="4"> 4</label>
        <label><input type="radio" name="item13" value="5"> 5</label>
      </div>
    </li>
    <li>Me gusta ser conocido por gente importante
      <div class="opciones">
        <label><input type="radio" name="item14" value="1" required> 1</label>
        <label><input type="radio" name="item14" value="2"> 2</label>
        <label><input type="radio" name="item14" value="3"> 3</label>
        <label><input type="radio" name="item14" value="4"> 4</label>
        <label><input type="radio" name="item14" value="5"> 5</label>
      </div>
    </li>
    <li>Ciertamente puedo hacer el mal a los demás
      <div class="opciones">
        <label><input type="radio" name="item15" value="1" required> 1</label>
        <label><input type="radio" name="item15" value="2"> 2</label>
        <label><input type="radio" name="item15" value="3"> 3</label>
        <label><input type="radio" name="item15" value="4"> 4</label>
        <label><input type="radio" name="item15" value="5"> 5</label>
      </div>
    </li>
    <li>Uno debería esperar por el momento correcto para devolver las cosas a la gente
      <div class="opciones">
        <label><input type="radio" name="item16" value="1" required> 1</label>
        <label><input type="radio" name="item16" value="2"> 2</label>
        <label><input type="radio" name="item16" value="3"> 3</label>
        <label><input type="radio" name="item16" value="4"> 4</label>
        <label><input type="radio" name="item16" value="5"> 5</label>
      </div>
    </li>
    <li>Me siento avergonzado si alguien me hace un cumplido
      <div class="opciones">
        <label><input type="radio" name="item17" value="1" required> 1</label>
        <label><input type="radio" name="item17" value="2"> 2</label>
        <label><input type="radio" name="item17" value="3"> 3</label>
        <label><input type="radio" name="item17" value="4"> 4</label>
        <label><input type="radio" name="item17" value="5"> 5</label>
      </div>
    </li>
    <li>Hay veces en que me meto conmigo siempre en problemas
      <div class="opciones">
        <label><input type="radio" name="item18" value="1" required> 1</label>
        <label><input type="radio" name="item18" value="2"> 2</label>
        <label><input type="radio" name="item18" value="3"> 3</label>
        <label><input type="radio" name="item18" value="4"> 4</label>
        <label><input type="radio" name="item18" value="5"> 5</label>
      </div>
    </li>
    <li>Hay cosas que uno debería esconder de otras personas porque ellos no tienen por qué saberlas
      <div class="opciones">
        <label><input type="radio" name="item19" value="1" required> 1</label>
        <label><input type="radio" name="item19" value="2"> 2</label>
        <label><input type="radio" name="item19" value="3"> 3</label>
        <label><input type="radio" name="item19" value="4"> 4</label>
        <label><input type="radio" name="item19" value="5"> 5</label>
      </div>
    </li>
    <li>Me gusta ser comparado con gente famosa
      <div class="opciones">
        <label><input type="radio" name="item20" value="1" required> 1</label>
        <label><input type="radio" name="item20" value="2"> 2</label>
        <label><input type="radio" name="item20" value="3"> 3</label>
        <label><input type="radio" name="item20" value="4"> 4</label>
        <label><input type="radio" name="item20" value="5"> 5</label>
      </div>
    </li>
    <li>Nunca he tenido problemas con la ley
      <div class="opciones">
        <label><input type="radio" name="item21" value="1" required> 1</label>
        <label><input type="radio" name="item21" value="2"> 2</label>
        <label><input type="radio" name="item21" value="3"> 3</label>
        <label><input type="radio" name="item21" value="4"> 4</label>
        <label><input type="radio" name="item21" value="5"> 5</label>
      </div>
    </li>
    <li>Asegúrese que sus planes le benefician a usted, no a otras personas
      <div class="opciones">
        <label><input type="radio" name="item22" value="1" required> 1</label>
        <label><input type="radio" name="item22" value="2"> 2</label>
        <label><input type="radio" name="item22" value="3"> 3</label>
        <label><input type="radio" name="item22" value="4"> 4</label>
        <label><input type="radio" name="item22" value="5"> 5</label>
      </div>
    </li>
    <li>Soy una persona normal, promedio
      <div class="opciones">
        <label><input type="radio" name="item23" value="1" required> 1</label>
        <label><input type="radio" name="item23" value="2"> 2</label>
        <label><input type="radio" name="item23" value="3"> 3</label>
        <label><input type="radio" name="item23" value="4"> 4</label>
        <label><input type="radio" name="item23" value="5"> 5</label>
      </div>
    </li>
      <li>Me gusta tener relaciones sexuales con gente que apenas conozco
      <div class="opciones">
        <label><input type="radio" name="item24" value="1" required> 1</label>
        <label><input type="radio" name="item24" value="2"> 2</label>
        <label><input type="radio" name="item24" value="3"> 3</label>
        <label><input type="radio" name="item24" value="4"> 4</label>
        <label><input type="radio" name="item24" value="5"> 5</label>
      </div>
    </li>
    <li>La mayoría de la gente puede ser manipulada
      <div class="opciones">
        <label><input type="radio" name="item25" value="1" required> 1</label>
        <label><input type="radio" name="item25" value="2"> 2</label>
        <label><input type="radio" name="item25" value="3"> 3</label>
        <label><input type="radio" name="item25" value="4"> 4</label>
        <label><input type="radio" name="item25" value="5"> 5</label>
      </div>
    </li>
    <li>Insisto en obtener el respeto que merezco
      <div class="opciones">
        <label><input type="radio" name="item26" value="1" required> 1</label>
        <label><input type="radio" name="item26" value="2"> 2</label>
        <label><input type="radio" name="item26" value="3"> 3</label>
        <label><input type="radio" name="item26" value="4"> 4</label>
        <label><input type="radio" name="item26" value="5"> 5</label>
      </div>
    </li>
    <li>Diría cualquier cosa para obtener lo que quiero
      <div class="opciones">
        <label><input type="radio" name="item27" value="1" required> 1</label>
        <label><input type="radio" name="item27" value="2"> 2</label>
        <label><input type="radio" name="item27" value="3"> 3</label>
        <label><input type="radio" name="item27" value="4"> 4</label>
        <label><input type="radio" name="item27" value="5"> 5</label>
      </div>
    </li>
  </ol>
  <button type="submit">Enviar respuestas</button>
</form>

      <div class="opciones">
        <label><input type="radio" name="item24" value="1" required>

        </ol>
      </form>
      <button onclick="calcularSD3()">Enviar respuestas</button>
      <div id="resultado-sd3"></div>
      <canvas id="grafico-sd3" width="400" height="400"></canvas>
    </section>
  </main>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const formulario = document.getElementById("datos-basicos");

      formulario.addEventListener("submit", function (e) {
        e.preventDefault();
        document.querySelector(".bienvenida").style.display = "none";
        document.getElementById("contenido").style.display = "block";
        document.getElementById("contenido").scrollIntoView({ behavior: "smooth" });
      });
    });

    function calcularSD3() {
      const datos = new FormData(document.getElementById("form-sd3"));

      const maquiavelismo = [1, 4, 7, 10, 13, 16, 19, 22, 25];
      const narcisismo = [2, 5, 8, 11, 14, 17, 20, 23, 26];
      const psicopatia = [3, 6, 9, 12, 15, 18, 21, 24, 27];
      const invertidos = [5, 6, 17, 21, 23];

      function obtenerValor(n) {
        let val = parseInt(datos.get("item" + n));
        if (invertidos.includes(n)) val = 6 - val;
        return val;
      }

      let m = 0, n = 0, p = 0;
      maquiavelismo.forEach(i => m += obtenerValor(i));
      narcisismo.forEach(i => n += obtenerValor(i));
      psicopatia.forEach(i => p += obtenerValor(i));

      document.getElementById("resultado-sd3").innerHTML = `
        <h4>Resultados del Test SD3:</h4>
        <p><strong>Maquiavelismo:</strong> ${m} / 45</p>
        <p><strong>Narcisismo:</strong> ${n} / 45</p>
        <p><strong>Psicopatía:</strong> ${p} / 45</p>
      `;

      const ctx = document.getElementById("grafico-sd3").getContext("2d");
      new Chart(ctx, {
        type: "radar",
        data: {
          labels: ["Maquiavelismo", "Narcisismo", "Psicopatía"],
          datasets: [{
            label: "Perfil SD3",
            data: [m, n, p],
            backgroundColor: "rgba(127, 0, 255, 0.2)",
            borderColor: "#7f00ff",
            borderWidth: 2
          }]
        },
        options: {
          scales: {
            r: {
              suggestedMin: 0,
              suggestedMax: 45,
              ticks: { stepSize: 5 }
            }
          }
        }
      });
    }
  </script>
          <script>
document.getElementById("form-sd3").addEventListener("submit", function(e) {
  e.preventDefault();

  const respuestas = {};
  for (let i = 1; i <= 27; i++) {
    const seleccion = document.querySelector(`input[name="item${i}"]:checked`);
    if (seleccion) {
      respuestas[`item${i}`] = parseInt(seleccion.value);
    } else {
      alert(`Falta responder el ítem ${i}`);
      return;
    }
  }

  // Agrupación por rasgo (según la estructura del SD3)
  const maquiavelismo = [1, 4, 7, 10, 13, 16, 19, 22, 25].map(i => respuestas[`item${i}`]);
  const narcisismo   = [2, 5, 8, 11, 14, 17, 20, 23, 26].map(i => respuestas[`item${i}`]);
  const psicopatia   = [3, 6, 9, 12, 15, 18, 21, 24, 27].map(i => respuestas[`item${i}`]);

  const promedio = arr => arr.reduce((a, b) => a + b, 0) / arr.length;

  const resultado = {
    Maquiavelismo: promedio(maquiavelismo).toFixed(2),
    Narcisismo: promedio(narcisismo).toFixed(2),
    Psicopatía: promedio(psicopatia).toFixed(2)
  };

  mostrarResultado(resultado);
});

function mostrarResultado(resultado) {
  const contenedor = document.getElementById("resultado-sd3");
  contenedor.innerHTML = `
    <h3>Resultado del Test SD3</h3>
    <p><strong>Maquiavelismo:</strong> ${resultado.Maquiavelismo}</p>
    <p><strong>Narcisismo:</strong> ${resultado.Narcisismo}</p>
    <p><strong>Psicopatía:</strong> ${resultado.Psicopatía}</p>
  `;
  contenedor.scrollIntoView({ behavior: "smooth" });
}
</script>

</body>
</html>
